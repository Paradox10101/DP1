"use client";
import PanelSimulacion from "@/app/Components/PanelSimulacion";
import MapView from "@/app/Components/MapView";
import MapLegend from "@/app/Components/MapLegend";
import { useEffect, useState } from "react";
import Switch from "@/app/Components/Switch";
import { Modal, Button } from "@nextui-org/react";

export default function Simulacion(){
    ///ESTO ES LO QUE SE USA PARA EL MAPVIEW
    const vehiculosInicial = [{id:1 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 90,estado: 'En Tránsito', codigo: 'A001' , velocidad: 30, tipo: 'A', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:2 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 90,estado: 'En Tránsito', codigo: 'A002' , velocidad: 30, tipo: 'A', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:3 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 90,estado: 'En Tránsito', codigo: 'A003' , velocidad: 30, tipo: 'A', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:4 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 90,estado: 'En Tránsito', codigo: 'A004' , velocidad: 30, tipo: 'A', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:5 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B001' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:6 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B002' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:7 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B003' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:8 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B004' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:9 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B005' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:10 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B006' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:11 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B007' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:12 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C001' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:13 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C002' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:14 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C003' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:15 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C004' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:16 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C005' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:17 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C006' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:18 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C007' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:19 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C008' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:20 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C009' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:21 , geocode: [-77.030495, -12.045919], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C010' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:22 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 90,estado: 'En Tránsito', codigo: 'A005' , velocidad: 30, tipo: 'A', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:23 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B008' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:24 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B009' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:25 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B010' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:26 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C011' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:27 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C012' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:28 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C013' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:29 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C014' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:30 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C015' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:31 , geocode: [-79.02869, -8.111764], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C016' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:32 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 90,estado: 'En Tránsito', codigo: 'A006' , velocidad: 30, tipo: 'A', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:33 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B011' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:34 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B012' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:35 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B013' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:36 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B014' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:37 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 45,estado: 'En Tránsito', codigo: 'B015' , velocidad: 30, tipo: 'B', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:38 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C017' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:39 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C018' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:40 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C019' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:41 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C020' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:42 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C021' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:43 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C022' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:44 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C023' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'},{id:45 , geocode: [-71.53702, -16.398815], ubicacionActual: 'Arequipa', ubicacionSiguiente: 'Putumayo', fechaDeInicio: '26/08/2024, 03:45 PM', tiempoRestante: '1d 3h', capacidadUsada: 20, capacidadMaxima: 30,estado: 'En Tránsito', codigo: 'C024' , velocidad: 30, tipo: 'C', fechaEstimadaLlegada: '22/07/2024 06:34 PM'}]
    const almacenesInicial = [{id:1 , geocode: [-77.030495, -12.045919] , ubigeo: '150101', ciudad: 'LIMA', tipo: 'Almacen', capacidadUtilizada: null, capacidadMaxima: null }, {id:2 , geocode: [-79.02869, -8.111764] , ubigeo: '130101', ciudad: 'TRUJILLO', tipo: 'Almacen', capacidadUtilizada: null, capacidadMaxima: null }, {id:3 , geocode: [-71.53702, -16.398815] , ubigeo: '040101', ciudad: 'AREQUIPA', tipo: 'Almacen', capacidadUtilizada: null, capacidadMaxima: null }, {id:1 , geocode: [-72.878876, -13.637346], ubigeo: '030101', ciudad: 'ABANCAY', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 103 }, {id:2 , geocode: [-73.38991, -13.656409], ubigeo: '030201', ciudad: 'ANDAHUAYLAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 31 }, {id:3 , geocode: [-72.87779, -14.364756], ubigeo: '030301', ciudad: 'ANTABAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 30 }, {id:4 , geocode: [-73.24427, -14.294712], ubigeo: '030401', ciudad: 'AYMARAES', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 15 }, {id:5 , geocode: [-73.7228, -13.518027], ubigeo: '030601', ciudad: 'CHINCHEROS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 94 }, {id:6 , geocode: [-72.174446, -13.946195], ubigeo: '030501', ciudad: 'COTABAMBAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 76 }, {id:7 , geocode: [-72.70764, -14.10538], ubigeo: '030701', ciudad: 'GRAU', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 94 }, {id:9 , geocode: [-72.71162, -16.624918], ubigeo: '040201', ciudad: 'CAMANA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 58 }, {id:10 , geocode: [-73.36541, -15.772139], ubigeo: '040301', ciudad: 'CARAVELI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 237 }, {id:11 , geocode: [-72.49209, -16.076603], ubigeo: '040401', ciudad: 'CASTILLA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 158 }, {id:12 , geocode: [-71.60198, -15.636742], ubigeo: '040501', ciudad: 'CAYLLOMA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 247 }, {id:13 , geocode: [-72.65147, -15.839238], ubigeo: '040601', ciudad: 'CONDESUYOS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 21 }, {id:14 , geocode: [-72.01544, -17.029276], ubigeo: '040701', ciudad: 'ISLAY', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 139 }, {id:15 , geocode: [-72.88816, -15.212908], ubigeo: '040801', ciudad: 'LA UNION', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 228 }, {id:16 , geocode: [-74.14368, -13.629325], ubigeo: '050201', ciudad: 'CANGALLO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 37 }, {id:17 , geocode: [-74.22578, -13.160271], ubigeo: '050101', ciudad: 'HUAMANGA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 66 }, {id:18 , geocode: [-74.333885, -13.919884], ubigeo: '050301', ciudad: 'HUANCA SANCOS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 20 }, {id:19 , geocode: [-74.247894, -12.939914], ubigeo: '050401', ciudad: 'HUANTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 89 }, {id:20 , geocode: [-73.98111, -13.012666], ubigeo: '050501', ciudad: 'LA MAR', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 103 }, {id:21 , geocode: [-74.1242, -14.694042], ubigeo: '050601', ciudad: 'LUCANAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 57 }, {id:22 , geocode: [-73.78089, -15.016977], ubigeo: '050701', ciudad: 'PARINACOCHAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 32 }, {id:23 , geocode: [-73.34436, -15.278873], ubigeo: '050801', ciudad: 'PAUCAR DEL SARA SARA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 39 }, {id:24 , geocode: [-73.838844, -14.011257], ubigeo: '050901', ciudad: 'SUCRE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 85 }, {id:25 , geocode: [-74.0663, -13.752455], ubigeo: '051001', ciudad: 'VICTOR FAJARDO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 107 }, {id:26 , geocode: [-73.953865, -13.653027], ubigeo: '051101', ciudad: 'VILCAS HUAMAN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 89 }, {id:27 , geocode: [-71.683495, -13.919203], ubigeo: '080201', ciudad: 'ACOMAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 103 }, {id:28 , geocode: [-72.14879, -13.471593], ubigeo: '080301', ciudad: 'ANTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 88 }, {id:29 , geocode: [-71.95605, -13.321749], ubigeo: '080401', ciudad: 'CALCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 93 }, {id:30 , geocode: [-71.43203, -14.216944], ubigeo: '080501', ciudad: 'CANAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 27 }, {id:31 , geocode: [-71.2265, -14.272991], ubigeo: '080601', ciudad: 'CANCHIS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 64 }, {id:32 , geocode: [-72.082085, -14.450169], ubigeo: '080701', ciudad: 'CHUMBIVILCAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 41 }, {id:33 , geocode: [-71.97876, -13.516702], ubigeo: '080101', ciudad: 'CUSCO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 56 }, {id:34 , geocode: [-71.41288, -14.793119], ubigeo: '080801', ciudad: 'ESPINAR', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 28 }, {id:35 , geocode: [-72.69288, -12.863322], ubigeo: '080901', ciudad: 'LA CONVENCION', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 107 }, {id:36 , geocode: [-71.84744, -13.761323], ubigeo: '081001', ciudad: 'PARURO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 46 }, {id:37 , geocode: [-71.596725, -13.317805], ubigeo: '081101', ciudad: 'PAUCARTAMBO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 21 }, {id:38 , geocode: [-71.62558, -13.687855], ubigeo: '081201', ciudad: 'QUISPICANCHI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 72 }, {id:39 , geocode: [-72.11599, -13.30593], ubigeo: '081301', ciudad: 'URUBAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 29 }, {id:40 , geocode: [-71.3589, -12.836182], ubigeo: '170201', ciudad: 'MANU', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 40 }, {id:41 , geocode: [-69.577415, -10.944943], ubigeo: '170301', ciudad: 'TAHUAMANU', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 84 }, {id:42 , geocode: [-69.17625, -12.594216], ubigeo: '170101', ciudad: 'TAMBOPATA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 82 }, {id:43 , geocode: [-70.970055, -16.673923], ubigeo: '180201', ciudad: 'GENERAL SANCHEZ CERRO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 20 }, {id:44 , geocode: [-71.345314, -17.645824], ubigeo: '180301', ciudad: 'ILO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 86 }, {id:45 , geocode: [-70.9347, -17.193804], ubigeo: '180101', ciudad: 'MARISCAL NIETO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 49 }, {id:46 , geocode: [-70.19534, -14.9085245], ubigeo: '210201', ciudad: 'AZANGARO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 68 }, {id:47 , geocode: [-70.43136, -14.068453], ubigeo: '210301', ciudad: 'CARABAYA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 25 }, {id:48 , geocode: [-69.459236, -16.213324], ubigeo: '210401', ciudad: 'CHUCUITO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 41 }, {id:49 , geocode: [-69.638596, -16.086866], ubigeo: '210501', ciudad: 'EL COLLAO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 17 }, {id:50 , geocode: [-69.76144, -15.204116], ubigeo: '210601', ciudad: 'HUANCANE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 112 }, {id:51 , geocode: [-70.367546, -15.364678], ubigeo: '210701', ciudad: 'LAMPA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 49 }, {id:52 , geocode: [-70.59009, -14.881829], ubigeo: '210801', ciudad: 'MELGAR', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 86 }, {id:53 , geocode: [-69.49989, -15.360712], ubigeo: '210901', ciudad: 'MOHO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 73 }, {id:54 , geocode: [-70.02801, -15.840612], ubigeo: '210101', ciudad: 'PUNO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 40 }, {id:55 , geocode: [-69.86856, -14.91416], ubigeo: '211001', ciudad: 'SAN ANTONIO DE PUTINA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 78 }, {id:56 , geocode: [-70.13554, -15.493232], ubigeo: '211101', ciudad: 'SAN ROMAN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 57 }, {id:57 , geocode: [-69.46661, -14.323019], ubigeo: '211201', ciudad: 'SANDIA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 26 }, {id:58 , geocode: [-69.09257, -16.244268], ubigeo: '211301', ciudad: 'YUNGUYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 114 }, {id:59 , geocode: [-70.2504, -17.268188], ubigeo: '230201', ciudad: 'CANDARAVE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 145 }, {id:60 , geocode: [-70.7624, -17.613832], ubigeo: '230301', ciudad: 'JORGE BASADRE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 139 }, {id:61 , geocode: [-70.25079, -18.0137], ubigeo: '230101', ciudad: 'TACNA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 41 }, {id:62 , geocode: [-70.03211, -17.474718], ubigeo: '230401', ciudad: 'TARATA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 164 }, {id:63 , geocode: [-73.75484, -10.729728], ubigeo: '250201', ciudad: 'ATALAYA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 77 }, {id:64 , geocode: [-74.53224, -8.383243], ubigeo: '250101', ciudad: 'CORONEL PORTILLO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 57 }, {id:65 , geocode: [-75.50862, -9.036876], ubigeo: '250301', ciudad: 'PADRE ABAD', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 71 }, {id:66 , geocode: [-70.71008, -9.77236], ubigeo: '250401', ciudad: 'PURUS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 28 }, {id:67 , geocode: [-77.61072, -9.780206], ubigeo: '020201', ciudad: 'AIJA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 105 }, {id:68 , geocode: [-77.01683, -9.101036], ubigeo: '020301', ciudad: 'ANTONIO RAYMONDI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 256 }, {id:69 , geocode: [-77.36604, -9.162093], ubigeo: '020401', ciudad: 'ASUNCION', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 23 }, {id:70 , geocode: [-77.1568, -10.152066], ubigeo: '020501', ciudad: 'BOLOGNESI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 190 }, {id:71 , geocode: [-77.64629, -9.281765], ubigeo: '020601', ciudad: 'CARHUAZ', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 242 }, {id:72 , geocode: [-77.32913, -9.0943575], ubigeo: '020701', ciudad: 'CARLOS FERMIN FITZCARRALD', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 40 }, {id:73 , geocode: [-78.30544, -9.47608], ubigeo: '020801', ciudad: 'CASMA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 136 }, {id:74 , geocode: [-77.89804, -8.570422], ubigeo: '020901', ciudad: 'CORONGO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 55 }, {id:75 , geocode: [-77.52886, -9.529975], ubigeo: '020101', ciudad: 'HUARAZ', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 33 }, {id:76 , geocode: [-77.17096, -9.347401], ubigeo: '021001', ciudad: 'HUARI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 96 }, {id:77 , geocode: [-78.15227, -10.0687065], ubigeo: '021101', ciudad: 'HUARMEY', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 138 }, {id:78 , geocode: [-77.81007, -9.048588], ubigeo: '021201', ciudad: 'HUAYLAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 20 }, {id:79 , geocode: [-77.35749, -8.864946], ubigeo: '021301', ciudad: 'MARISCAL LUZURIAGA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 259 }, {id:80 , geocode: [-77.39679, -10.403464], ubigeo: '021401', ciudad: 'OCROS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 157 }, {id:81 , geocode: [-78.00902, -8.392909], ubigeo: '021501', ciudad: 'PALLASCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 18 }, {id:82 , geocode: [-77.46025, -8.820532], ubigeo: '021601', ciudad: 'POMABAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 245 }, {id:83 , geocode: [-77.45615, -9.722085], ubigeo: '021701', ciudad: 'RECUAY', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 207 }, {id:84 , geocode: [-78.593575, -9.074542], ubigeo: '021801', ciudad: 'SANTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 48 }, {id:85 , geocode: [-77.63122, -8.554587], ubigeo: '021901', ciudad: 'SIHUAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 109 }, {id:86 , geocode: [-77.7449, -9.139891], ubigeo: '022001', ciudad: 'YUNGAY', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 61 }, {id:87 , geocode: [-77.14068, -12.060342], ubigeo: '070101', ciudad: 'CALLAO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 241 }, {id:88 , geocode: [-74.57118, -12.844325], ubigeo: '090201', ciudad: 'ACOBAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 49 }, {id:89 , geocode: [-74.718544, -12.983049], ubigeo: '090301', ciudad: 'ANGARAES', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 89 }, {id:90 , geocode: [-75.31915, -13.283339], ubigeo: '090401', ciudad: 'CASTROVIRREYNA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 72 }, {id:91 , geocode: [-74.38756, -12.739259], ubigeo: '090501', ciudad: 'CHURCAMPA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 94 }, {id:92 , geocode: [-74.9731, -12.787191], ubigeo: '090101', ciudad: 'HUANCAVELICA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 56 }, {id:93 , geocode: [-75.35307, -13.604421], ubigeo: '090601', ciudad: 'HUAYTARA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 107 }, {id:94 , geocode: [-74.86842, -12.398792], ubigeo: '090701', ciudad: 'TAYACAJA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 34 }, {id:95 , geocode: [-76.20446, -10.12923], ubigeo: '100201', ciudad: 'AMBO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 103 }, {id:96 , geocode: [-76.8013, -9.828532], ubigeo: '100301', ciudad: 'DOS DE MAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 78 }, {id:97 , geocode: [-76.952614, -9.037866], ubigeo: '100401', ciudad: 'HUACAYBAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 73 }, {id:98 , geocode: [-76.815575, -9.550005], ubigeo: '100501', ciudad: 'HUAMALIES', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 19 }, {id:99 , geocode: [-76.23965, -9.929545], ubigeo: '100101', ciudad: 'HUANUCO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 53 }, {id:100 , geocode: [-76.631615, -10.078058], ubigeo: '101001', ciudad: 'LAURICOCHA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 25 }, {id:101 , geocode: [-76.00028, -9.298381], ubigeo: '100601', ciudad: 'LEONCIO PRADO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 22 }, {id:102 , geocode: [-77.14935, -8.604393], ubigeo: '100701', ciudad: 'MARAÑON', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 42 }, {id:103 , geocode: [-75.99429, -9.897476], ubigeo: '100801', ciudad: 'PACHITEA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 47 }, {id:104 , geocode: [-74.96594, -9.379358], ubigeo: '100901', ciudad: 'PUERTO INCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 59 }, {id:105 , geocode: [-76.6084, -9.858744], ubigeo: '101101', ciudad: 'YAROWILCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 73 }, {id:106 , geocode: [-76.13261, -13.417593], ubigeo: '110201', ciudad: 'CHINCHA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 222 }, {id:107 , geocode: [-75.7292, -14.063935], ubigeo: '110101', ciudad: 'ICA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 19 }, {id:108 , geocode: [-74.93705, -14.827559], ubigeo: '110301', ciudad: 'NASCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 84 }, {id:109 , geocode: [-75.185135, -14.533749], ubigeo: '110401', ciudad: 'PALPA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 24 }, {id:110 , geocode: [-76.20321, -13.709894], ubigeo: '110501', ciudad: 'PISCO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 238 }, {id:111 , geocode: [-75.3282, -11.055986], ubigeo: '120301', ciudad: 'CHANCHAMAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 32 }, {id:112 , geocode: [-75.28762, -12.061711], ubigeo: '120901', ciudad: 'CHUPACA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 38 }, {id:113 , geocode: [-75.312965, -11.918462], ubigeo: '120201', ciudad: 'CONCEPCION', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 60 }, {id:114 , geocode: [-75.21005, -12.067959], ubigeo: '120101', ciudad: 'HUANCAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 66 }, {id:115 , geocode: [-75.50053, -11.775216], ubigeo: '120401', ciudad: 'JAUJA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 25 }, {id:116 , geocode: [-75.99308, -11.161042], ubigeo: '120501', ciudad: 'JUNIN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 46 }, {id:117 , geocode: [-74.637, -11.253902], ubigeo: '120601', ciudad: 'SATIPO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 35 }, {id:118 , geocode: [-75.68777, -11.419918], ubigeo: '120701', ciudad: 'TARMA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 42 }, {id:119 , geocode: [-75.90004, -11.516594], ubigeo: '120801', ciudad: 'YAULI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 62 }, {id:120 , geocode: [-77.760796, -10.7540245], ubigeo: '150201', ciudad: 'BARRANCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 225 }, {id:121 , geocode: [-76.993004, -10.472683], ubigeo: '150301', ciudad: 'CAJATAMBO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 19 }, {id:122 , geocode: [-76.62474, -11.46702], ubigeo: '150401', ciudad: 'CANTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 94 }, {id:123 , geocode: [-76.38743, -13.07775], ubigeo: '150501', ciudad: 'CAÑETE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 137 }, {id:124 , geocode: [-77.207184, -11.495407], ubigeo: '150601', ciudad: 'HUARAL', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 67 }, {id:125 , geocode: [-76.38606, -11.844765], ubigeo: '150701', ciudad: 'HUAROCHIRI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 151 }, {id:126 , geocode: [-77.610405, -11.108553], ubigeo: '150801', ciudad: 'HUAURA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 19 }, {id:128 , geocode: [-76.77306, -10.668103], ubigeo: '150901', ciudad: 'OYON', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 232 }, {id:129 , geocode: [-75.918686, -12.459734], ubigeo: '151001', ciudad: 'YAUYOS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 222 }, {id:130 , geocode: [-76.516624, -10.491333], ubigeo: '190201', ciudad: 'DANIEL ALCIDES CARRION', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 106 }, {id:131 , geocode: [-75.404625, -10.574283], ubigeo: '190301', ciudad: 'OXAPAMPA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 71 }, {id:132 , geocode: [-76.25618, -10.683662], ubigeo: '190101', ciudad: 'PASCO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 104 }, {id:133 , geocode: [-78.53166, -5.6390615], ubigeo: '010201', ciudad: 'BAGUA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 72 }, {id:134 , geocode: [-77.798096, -5.904324], ubigeo: '010301', ciudad: 'BONGARA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 84 }, {id:135 , geocode: [-77.87244, -6.2294083], ubigeo: '010101', ciudad: 'CHACHAPOYAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 31 }, {id:136 , geocode: [-77.86448, -4.592347], ubigeo: '010401', ciudad: 'CONDORCANQUI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 56 }, {id:137 , geocode: [-77.95196, -6.139032], ubigeo: '010501', ciudad: 'LUYA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 37 }, {id:138 , geocode: [-77.4822, -6.395907], ubigeo: '010601', ciudad: 'RODRIGUEZ DE MENDOZA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 94 }, {id:139 , geocode: [-78.4422, -5.7544174], ubigeo: '010701', ciudad: 'UTCUBAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 86 }, {id:140 , geocode: [-78.046005, -7.6237435], ubigeo: '060201', ciudad: 'CAJABAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 44 }, {id:141 , geocode: [-78.517525, -7.1570687], ubigeo: '060101', ciudad: 'CAJAMARCA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 86 }, {id:142 , geocode: [-78.14556, -6.8655324], ubigeo: '060301', ciudad: 'CELENDIN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 19 }, {id:143 , geocode: [-78.650246, -6.5615745], ubigeo: '060401', ciudad: 'CHOTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 33 }, {id:144 , geocode: [-78.80463, -7.3661294], ubigeo: '060501', ciudad: 'CONTUMAZA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 97 }, {id:145 , geocode: [-78.81831, -6.3773556], ubigeo: '060601', ciudad: 'CUTERVO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 31 }, {id:146 , geocode: [-78.51914, -6.679542], ubigeo: '060701', ciudad: 'HUALGAYOC', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 42 }, {id:147 , geocode: [-78.80782, -5.708803], ubigeo: '060801', ciudad: 'JAEN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 61 }, {id:148 , geocode: [-79.004974, -5.1462502], ubigeo: '060901', ciudad: 'SAN IGNACIO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 34 }, {id:149 , geocode: [-78.17047, -7.3360686], ubigeo: '061001', ciudad: 'SAN MARCOS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 38 }, {id:150 , geocode: [-78.85143, -7.0004487], ubigeo: '061101', ciudad: 'SAN MIGUEL', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 49 }, {id:151 , geocode: [-78.82337, -7.1183414], ubigeo: '061201', ciudad: 'SAN PABLO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 100 }, {id:152 , geocode: [-78.94439, -6.6261396], ubigeo: '061301', ciudad: 'SANTA CRUZ', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 77 }, {id:153 , geocode: [-79.10751, -7.7137904], ubigeo: '130201', ciudad: 'ASCOPE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 24 }, {id:154 , geocode: [-77.70264, -7.153872], ubigeo: '130301', ciudad: 'BOLIVAR', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 132 }, {id:155 , geocode: [-79.429634, -7.227289], ubigeo: '130401', ciudad: 'CHEPEN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 103 }, {id:156 , geocode: [-78.81942, -7.479456], ubigeo: '131101', ciudad: 'GRAN CHIMU', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 214 }, {id:157 , geocode: [-78.48663, -8.042529], ubigeo: '130501', ciudad: 'JULCAN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 198 }, {id:158 , geocode: [-78.5657, -7.902503], ubigeo: '130601', ciudad: 'OTUZCO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 209 }, {id:159 , geocode: [-79.50428, -7.4320564], ubigeo: '130701', ciudad: 'PACASMAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 129 }, {id:160 , geocode: [-77.29632, -8.275935], ubigeo: '130801', ciudad: 'PATAZ', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 148 }, {id:161 , geocode: [-78.04862, -7.815552], ubigeo: '130901', ciudad: 'SANCHEZ CARRION', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 256 }, {id:162 , geocode: [-78.17327, -8.145368], ubigeo: '131001', ciudad: 'SANTIAGO DE CHUCO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 147 }, {id:164 , geocode: [-78.75222, -8.414277], ubigeo: '131201', ciudad: 'VIRU', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 204 }, {id:165 , geocode: [-79.83866, -6.771505], ubigeo: '140101', ciudad: 'CHICLAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 62 }, {id:166 , geocode: [-79.78804, -6.639227], ubigeo: '140201', ciudad: 'FERREÑAFE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 40 }, {id:167 , geocode: [-79.90621, -6.704108], ubigeo: '140301', ciudad: 'LAMBAYEQUE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 79 }, {id:168 , geocode: [-76.10441, -5.895269], ubigeo: '160201', ciudad: 'ALTO AMAZONAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 47 }, {id:169 , geocode: [-76.55451, -4.8315687], ubigeo: '160701', ciudad: 'DATEM DEL MARAÑON', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 28 }, {id:170 , geocode: [-73.57546, -4.506616], ubigeo: '160301', ciudad: 'LORETO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 64 }, {id:171 , geocode: [-70.51679, -3.9059913], ubigeo: '160401', ciudad: 'MARISCAL RAMON CASTILLA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 75 }, {id:172 , geocode: [-73.24437, -3.749346], ubigeo: '160101', ciudad: 'MAYNAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 25 }, {id:173 , geocode: [-72.66825, -2.4471967], ubigeo: '160801', ciudad: 'PUTUMAYO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 66 }, {id:174 , geocode: [-73.856384, -5.063693], ubigeo: '160501', ciudad: 'REQUENA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 16 }, {id:175 , geocode: [-75.00906, -7.3505206], ubigeo: '160601', ciudad: 'UCAYALI', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 19 }, {id:176 , geocode: [-79.71523, -4.640226], ubigeo: '200201', ciudad: 'AYABACA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 214 }, {id:177 , geocode: [-79.45062, -5.2390018], ubigeo: '200301', ciudad: 'HUANCABAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 259 }, {id:178 , geocode: [-80.16085, -5.096551], ubigeo: '200401', ciudad: 'MORROPON', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 99 }, {id:179 , geocode: [-81.11367, -5.085127], ubigeo: '200501', ciudad: 'PAITA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 162 }, {id:180 , geocode: [-80.62655, -5.197164], ubigeo: '200101', ciudad: 'PIURA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 51 }, {id:181 , geocode: [-80.82227, -5.557545], ubigeo: '200801', ciudad: 'SECHURA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 128 }, {id:182 , geocode: [-80.68738, -4.8900437], ubigeo: '200601', ciudad: 'SULLANA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 254 }, {id:183 , geocode: [-81.27182, -4.579691], ubigeo: '200701', ciudad: 'TALARA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 120 }, {id:184 , geocode: [-76.5847, -7.066871], ubigeo: '220201', ciudad: 'BELLAVISTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 17 }, {id:185 , geocode: [-76.69486, -6.613914], ubigeo: '220301', ciudad: 'EL DORADO', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 39 }, {id:186 , geocode: [-76.77185, -6.9364114], ubigeo: '220401', ciudad: 'HUALLAGA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 67 }, {id:187 , geocode: [-76.51618, -6.421838], ubigeo: '220501', ciudad: 'LAMAS', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 89 }, {id:188 , geocode: [-76.72644, -7.1804104], ubigeo: '220601', ciudad: 'MARISCAL CACERES', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 71 }, {id:189 , geocode: [-76.97467, -6.034669], ubigeo: '220101', ciudad: 'MOYOBAMBA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 30 }, {id:190 , geocode: [-76.3303, -6.9206414], ubigeo: '220701', ciudad: 'PICOTA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 53 }, {id:191 , geocode: [-77.16777, -6.0626082], ubigeo: '220801', ciudad: 'RIOJA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 75 }, {id:192 , geocode: [-76.35982, -6.487717], ubigeo: '220901', ciudad: 'SAN MARTIN', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 26 }, {id:193 , geocode: [-76.510315, -8.188648], ubigeo: '221001', ciudad: 'TOCACHE', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 41 }, {id:194 , geocode: [-80.676285, -3.6806676], ubigeo: '240201', ciudad: 'CONTRALMIRANTE VILLAR', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 231 }, {id:195 , geocode: [-80.45957, -3.570834], ubigeo: '240101', ciudad: 'TUMBES', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 135 }, {id:196 , geocode: [-80.275024, -3.5006804], ubigeo: '240301', ciudad: 'ZARUMILLA', tipo: 'Oficina', capacidadUtilizada: 10, capacidadMaxima: 100 }]
    const pedidosInicial = [ { id: 1, codigo: "0P0010", ciudadOrigen: "Trujillo", ciudadDestino: "Piura", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "1", estado: "En Tránsito" }, { id: 2, codigo: "0P0011", ciudadOrigen: "Lima", ciudadDestino: "Trujillo", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "15", estado: "Registrado" }, { id: 3, codigo: "0P0012", ciudadOrigen: "Lima", ciudadDestino: "Ica", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "12", estado: "En Oficina" }, { id: 4, codigo: "0P0013", ciudadOrigen: "Lima", ciudadDestino: "Ica", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "12", estado: "En Oficina" }, { id: 5, codigo: "0P0014", ciudadOrigen: "Lima", ciudadDestino: "Ica", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "12", estado: "En Oficina" }, { id: 6, codigo: "0P0015", ciudadOrigen: "Trujillo", ciudadDestino: "Piura", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "1", estado: "En Tránsito" }, { id: 7, codigo: "0P0016", ciudadOrigen: "Trujillo", ciudadDestino: "Piura", fechaDeInicio: "26/08/2024, 03:45 PM", tiempoRestante: "1d 3h", cantidadPaquetes: "1", estado: "En Tránsito" } ]
    const [ws, setWs] = useState(null);
    const [estadoSimulacion, setEstadoSimulacion] = useState("INICIAL");
    const [datos, setDatos] = useState({ vehiculos: vehiculosInicial,  almacenes: almacenesInicial, pedidos: []});///ESTO ES LO QUE SE USA PARA EL MAPVIEW
    const [mostrarRutas, setMostrarRutas] = useState(false);
    const [isMounted, setIsMounted] = useState(false);
    const [hidePanel, setHidePanel] = useState(false)

    // useEffect para asegurar que el componente está montado (para evitar problemas de hidratación)
  useEffect(() => {
    setIsMounted(true);
  }, []);

  // useEffect para la conexión WebSocket
  useEffect(() => {
    if (!isMounted) return;

    if (estadoSimulacion === "INICIAL") {
      setDatos({ vehiculos: vehiculosInicial, almacenes: almacenesInicial, pedidos: []});
      setWs(null);
      return;
    }

    setDatos({ vehiculos: vehiculosInicial, almacenes: almacenesInicial, pedidos: pedidosInicial});

    const socket = new WebSocket(process.env.NEXT_PUBLIC_WS_URL);

    socket.onopen = () => {
      console.log("Conectado al servidor WebSocket");
      setWs(socket); // Guardar la conexión en el estado
    };

    socket.onmessage = (event) => {
      const message = event.data;
      setDatos(JSON.parse(message));
      console.log(JSON.parse(message).vehiculos);
    };

    socket.onerror = (error) => {
      console.log("Error en el WebSocket:", error);
    };

    socket.onclose = () => {
      console.log("Conexión WebSocket cerrada");
      setWs(null); // Limpiar la conexión
    };

    // Limpiar la conexión WebSocket al desmontar el componente
    return () => {
      if (socket) {
        socket.close();
      }
    };
  }, [estadoSimulacion, isMounted]);
  
  // Handler para abrir/cerrar el modal
  const handleOpenModal = () => setIsModalOpen(true);
  const handleCloseModal = () => setIsModalOpen(false);
  
  // useEffect para escuchar cambios en el prop isDashboardModalOpen
  useEffect(() => {
    if (isDashboardModalOpen) {
      setIsModalOpen(true);
    }
  }, [isDashboardModalOpen]);

  // Renderizar solo cuando el componente esté montado
  if (!isMounted) {
    return null;
  }

  return (
    <div className="relative">
      
        <PanelSimulacion
          estadoSimulacion={estadoSimulacion}
          setEstadoSimulacion={setEstadoSimulacion}
          datos={datos}
          hidePanel={hidePanel}
          setHidePanel={setHidePanel}
          handleOpenModal={handleOpenModal} // Pasar el handler al panel
        />
      
      <MapView
        datos={datos}
        mostrarRutas={mostrarRutas}
        estadoSimulacion={estadoSimulacion}
      />
      <div className="absolute bottom-10 right-10 bg-white rounded-lg flex flex-col p-2">
        <MapLegend />
        <Switch isOn={mostrarRutas} setIsOn={setMostrarRutas} />
      </div>

      <Modal
        closeButton
        blur
        open={isModalOpen}
        onClose={handleCloseModal}
        aria-labelledby="modal-title"
      >
        <Modal.Header>
          <h3 id="modal-title">Reporte de Simulación</h3>
        </Modal.Header>
        <Modal.Body>
          <p>Contenido detallado del reporte de simulación...</p>
        </Modal.Body>
        <Modal.Footer>
          <Button auto flat color="error" onClick={handleCloseModal}>
            Cerrar
          </Button>
        </Modal.Footer>
      </Modal>
    </div>
  );
}